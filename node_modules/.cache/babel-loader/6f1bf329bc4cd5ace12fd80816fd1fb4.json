{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/src/containers/list/BeatPreviewListContainer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withStyles } from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport * as baseActions from \"store/modules/base\";\nimport * as beatsActions from \"store/modules/beats\";\nimport * as api from \"lib/api\";\nimport BeatPreviewList from \"components/list/BeatPreviewList\";\nimport BeatPost from \"components/item/BeatPost\";\n\nvar styles = function styles(theme) {\n  return {\n    modalStyle: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      overflow: \"scroll\",\n      height: \"100%\",\n      alignItems: \"center\"\n    }\n  };\n};\n\nvar BeatPreviewListContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BeatPreviewListContainer, _Component);\n\n  function BeatPreviewListContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BeatPreviewListContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BeatPreviewListContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClickBeatPreview = function (id) {\n      var _this$props = _this.props,\n          BaseActions = _this$props.BaseActions,\n          BeatsActions = _this$props.BeatsActions;\n      BaseActions.showModal(\"beat\");\n      BeatsActions.setIndex(id);\n    };\n\n    _this.handleCloseModal = function () {\n      var BaseActions = _this.props.BaseActions;\n      BaseActions.hideModal(\"beat\");\n    };\n\n    _this.initialize =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var BeatsActions, beatsList;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              BeatsActions = _this.props.BeatsActions;\n              BeatsActions.getBeatsBegin();\n              _context.prev = 2;\n              _context.next = 5;\n              return api.getBeatsList();\n\n            case 5:\n              beatsList = _context.sent;\n              BeatsActions.getBeatsSuccess(beatsList);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              BeatsActions.getBeatsFailure(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[2, 9]]);\n    }));\n    return _this;\n  }\n\n  _createClass(BeatPreviewListContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initialize();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          loading = _this$props2.loading,\n          beats = _this$props2.beats,\n          index = _this$props2.index;\n      var beatsList = beats.toJS();\n      console.log(index);\n      if (loading) return null;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(BeatPreviewList, {\n        beatPreviews: beats.toJS(),\n        handleClickBeatPreview: this.handleClickBeatPreview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        className: this.props.classes.modalStyle,\n        open: this.props.beatModal,\n        onClose: this.handleCloseModal,\n        disableAutoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(BeatPost, {\n        beat: beatsList[index],\n        closeModal: this.handleCloseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return BeatPreviewListContainer;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    beats: state.beats.get(\"beats\"),\n    index: state.beats.get(\"index\"),\n    loading: state.beats.get(\"loading\"),\n    error: state.beats.get(\"error\"),\n    beatModal: state.base.getIn([\"modal\", \"beat\"])\n  };\n}, function (dispatch) {\n  return {\n    BaseActions: bindActionCreators(baseActions, dispatch),\n    BeatsActions: bindActionCreators(beatsActions, dispatch)\n  };\n})(withStyles(styles)(BeatPreviewListContainer));","map":{"version":3,"sources":["/Users/ruby/Desktop/수업/2020-1/벤창웹2/frontend/src/containers/list/BeatPreviewListContainer.js"],"names":["React","Component","connect","bindActionCreators","withStyles","Modal","baseActions","beatsActions","api","BeatPreviewList","BeatPost","styles","theme","modalStyle","display","flexDirection","overflow","height","alignItems","BeatPreviewListContainer","handleClickBeatPreview","id","props","BaseActions","BeatsActions","showModal","setIndex","handleCloseModal","hideModal","initialize","getBeatsBegin","getBeatsList","beatsList","getBeatsSuccess","getBeatsFailure","loading","beats","index","toJS","console","log","classes","beatModal","state","get","error","base","getIn","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport { withStyles } from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\n\nimport * as baseActions from \"store/modules/base\";\nimport * as beatsActions from \"store/modules/beats\";\nimport * as api from \"lib/api\";\n\nimport BeatPreviewList from \"components/list/BeatPreviewList\";\nimport BeatPost from \"components/item/BeatPost\";\n\nconst styles = theme => ({\n  modalStyle: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"scroll\",\n    height: \"100%\",\n    alignItems: \"center\"\n  }\n});\n\nclass BeatPreviewListContainer extends Component {\n  handleClickBeatPreview = id => {\n    const { BaseActions, BeatsActions } = this.props;\n    BaseActions.showModal(\"beat\");\n    BeatsActions.setIndex(id);\n  };\n  handleCloseModal = () => {\n    const { BaseActions } = this.props;\n    BaseActions.hideModal(\"beat\");\n  };\n  initialize = async () => {\n    const { BeatsActions } = this.props;\n    BeatsActions.getBeatsBegin();\n    try {\n      const beatsList = await api.getBeatsList();\n      BeatsActions.getBeatsSuccess(beatsList);\n    } catch (e) {\n      BeatsActions.getBeatsFailure(e);\n    }\n  };\n  componentDidMount() {\n    this.initialize();\n  }\n  render() {\n    const { loading, beats, index } = this.props;\n    const beatsList = beats.toJS();\n    console.log(index);\n    if (loading) return null;\n    return (\n      <React.Fragment>\n        <BeatPreviewList\n          beatPreviews={beats.toJS()}\n          handleClickBeatPreview={this.handleClickBeatPreview}\n        />\n        <Modal\n          className={this.props.classes.modalStyle}\n          open={this.props.beatModal}\n          onClose={this.handleCloseModal}\n          disableAutoFocus\n        >\n          <BeatPost\n            beat={beatsList[index]}\n            closeModal={this.handleCloseModal}\n          />\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    beats: state.beats.get(\"beats\"),\n    index: state.beats.get(\"index\"),\n    loading: state.beats.get(\"loading\"),\n    error: state.beats.get(\"error\"),\n    beatModal: state.base.getIn([\"modal\", \"beat\"])\n  }),\n  dispatch => ({\n    BaseActions: bindActionCreators(baseActions, dispatch),\n    BeatsActions: bindActionCreators(beatsActions, dispatch)\n  })\n)(withStyles(styles)(BeatPreviewListContainer));\n"]},"metadata":{},"sourceType":"module"}