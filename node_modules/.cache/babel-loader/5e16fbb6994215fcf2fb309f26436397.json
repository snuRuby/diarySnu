{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ruby/Desktop/\\uC218\\uC5C5/2020-1/\\u1107\\u1166\\u11AB\\u110E\\u1161\\u11BC\\u110B\\u1170\\u11B82/frontend/src/containers/common/Base.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport LoginModalContainer from \"./LoginModalContainer\";\nimport LoadingContainer from \"./LoadingContainer\";\nimport * as accountActions from \"store/modules/accounts\";\nimport * as baseActions from \"store/modules/base\";\nimport * as api from \"lib/api\";\n\nvar Base =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Base, _Component);\n\n  function Base() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Base);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Base)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.initialize =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var AccountActions;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (localStorage.getItem(\"auth\")) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              AccountActions = _this.props.AccountActions;\n\n              if (JSON.parse(localStorage.getItem(\"auth\")).logged) {\n                AccountActions.tempLogin();\n              } // AccountActions.checkLoggedBegin();\n              // try {\n              //     const logged = await api.checkLogin();\n              //     AccountActions.checkLoggedSuccess(logged);\n              // } catch(e) {\n              //     console.log(e);\n              //     AccountActions.checkLoggedFailure(e);\n              // }\n\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _this;\n  }\n\n  _createClass(Base, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initialize();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(LoginModalContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(LoadingContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Base;\n}(Component);\n\nexport default connect(null, function (dispatch) {\n  return {\n    AccountActions: bindActionCreators(accountActions, dispatch),\n    BaseActions: bindActionCreators(baseActions, dispatch)\n  };\n})(Base);","map":{"version":3,"sources":["/Users/ruby/Desktop/수업/2020-1/벤창웹2/frontend/src/containers/common/Base.js"],"names":["React","Component","connect","bindActionCreators","LoginModalContainer","LoadingContainer","accountActions","baseActions","api","Base","initialize","localStorage","getItem","AccountActions","props","JSON","parse","logged","tempLogin","dispatch","BaseActions"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AAEA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAO,KAAKC,cAAZ,MAAgC,wBAAhC;AACA,OAAO,KAAKC,WAAZ,MAA6B,oBAA7B;AACA,OAAO,KAAKC,GAAZ,MAAqB,SAArB;;IAEMC,I;;;;;;;;;;;;;;;;;UACJC,U;;;;6BAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACNC,YAAY,CAACC,OAAb,CAAqB,MAArB,CADM;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAEHC,cAAAA,cAFG,GAEgB,MAAKC,KAFrB,CAEHD,cAFG;;AAGX,kBAAIE,IAAI,CAACC,KAAL,CAAWL,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCK,MAA7C,EAAqD;AACnDJ,gBAAAA,cAAc,CAACK,SAAf;AACD,eALU,CAMX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAbW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;wCAgBO;AAClB,WAAKR,UAAL;AACD;;;6BAEQ;AACP,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AASD;;;;EA/BgBT,S;;AAkCnB,eAAeC,OAAO,CACpB,IADoB,EAEpB,UAAAiB,QAAQ;AAAA,SAAK;AACXN,IAAAA,cAAc,EAAEV,kBAAkB,CAACG,cAAD,EAAiBa,QAAjB,CADvB;AAEXC,IAAAA,WAAW,EAAEjB,kBAAkB,CAACI,WAAD,EAAcY,QAAd;AAFpB,GAAL;AAAA,CAFY,CAAP,CAMbV,IANa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport LoginModalContainer from \"./LoginModalContainer\";\nimport LoadingContainer from \"./LoadingContainer\";\nimport * as accountActions from \"store/modules/accounts\";\nimport * as baseActions from \"store/modules/base\";\nimport * as api from \"lib/api\";\n\nclass Base extends Component {\n  initialize = async () => {\n    if (!localStorage.getItem(\"auth\")) return;\n    const { AccountActions } = this.props;\n    if (JSON.parse(localStorage.getItem(\"auth\")).logged) {\n      AccountActions.tempLogin();\n    }\n    // AccountActions.checkLoggedBegin();\n    // try {\n    //     const logged = await api.checkLogin();\n    //     AccountActions.checkLoggedSuccess(logged);\n    // } catch(e) {\n    //     console.log(e);\n    //     AccountActions.checkLoggedFailure(e);\n    // }\n  };\n\n  componentDidMount() {\n    this.initialize();\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <LoginModalContainer />\n        <LoadingContainer />\n        {/**\n         * globally used components are rendered here.\n         */}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  dispatch => ({\n    AccountActions: bindActionCreators(accountActions, dispatch),\n    BaseActions: bindActionCreators(baseActions, dispatch)\n  })\n)(Base);\n"]},"metadata":{},"sourceType":"module"}