{"ast":null,"code":"import * as firebase from 'firebase/app';\nimport 'firebase/database';\nexport default class Api {\n  constructor() {\n    this.basePath = '/data/movies';\n    this.database = firebase.database().ref(this.basePath).once('value').then(d => d.val());\n  }\n\n  getMovies() {\n    return this.database;\n  }\n\n  async getMovie(id) {\n    const movies = await this.database;\n    return movies.filter(({\n      id: dataId\n    }) => id === dataId).slice(-1).pop();\n  } // makeHeaders(auth = false) {\n  //   const headers = {\n  //     'Content-Type': 'application/x-www-form-urlencoded',\n  //   };\n  //   if (auth) headers.Authorization = `Key ${localStorage.getItem('key')}`;\n  //   return headers;\n  // }\n  // signup(name) {\n  //   return fetch(`${this.BASE_URL}/signup`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(),\n  //     body: `name=${name}`,\n  //   })\n  //     .then((res) => res.json())\n  //     .then(({ key }) => localStorage.setItem('key', key));\n  // }\n  // login() {\n  //   return fetch(`${this.BASE_URL}/login`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //   }).then((res) => res.json());\n  // }\n  // joinRoom(id) {\n  //   return fetch(`${this.BASE_URL}/rooms/${id}`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //   }).then((res) => res.json());\n  // }\n  // getRooms() {\n  //   return fetch(`${this.BASE_URL}/rooms`).then((res) => res.json());\n  // }\n  // createRoom(name) {\n  //   return fetch(`${this.BASE_URL}/rooms`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //     body: `name=${name}`,\n  //   }).then((res) => res.json());\n  // }\n  // getRoom(roomId) {\n  //   return fetch(`${this.BASE_URL}/rooms/${roomId}`).then((res) => res.json());\n  // }\n  // getChats(roomId) {\n  //   return fetch(`${this.BASE_URL}/rooms/${roomId}/chats`).then((res) => res.json());\n  // }\n  // sendMessage(roomId, message) {\n  //   return fetch(`${this.BASE_URL}/rooms/${roomId}/chats`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //     body: `message=${message}`,\n  //   }).then((res) => res.json());\n  // }\n\n\n}","map":{"version":3,"sources":["/Users/donghoon/works/movie/src/api/api.js"],"names":["firebase","Api","constructor","basePath","database","ref","once","then","d","val","getMovies","getMovie","id","movies","filter","dataId","slice","pop"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,cAA1B;AACA,OAAO,mBAAP;AAEA,eAAe,MAAMC,GAAN,CAAU;AACvBC,EAAAA,WAAW,GAAG;AACZ,SAAKC,QAAL,GAAgB,cAAhB;AACA,SAAKC,QAAL,GAAgBJ,QAAQ,CAACI,QAAT,GAAoBC,GAApB,CAAwB,KAAKF,QAA7B,EAAuCG,IAAvC,CAA4C,OAA5C,EAAqDC,IAArD,CAA2DC,CAAD,IAAOA,CAAC,CAACC,GAAF,EAAjE,CAAhB;AACD;;AAEDC,EAAAA,SAAS,GAAG;AACV,WAAO,KAAKN,QAAZ;AACD;;AAED,QAAMO,QAAN,CAAeC,EAAf,EAAmB;AACjB,UAAMC,MAAM,GAAG,MAAM,KAAKT,QAA1B;AACA,WAAOS,MAAM,CAACC,MAAP,CAAc,CAAC;AAAEF,MAAAA,EAAE,EAAEG;AAAN,KAAD,KAAoBH,EAAE,KAAKG,MAAzC,EAAiDC,KAAjD,CAAuD,CAAC,CAAxD,EAA2DC,GAA3D,EAAP;AACD,GAbsB,CAevB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAzEuB","sourcesContent":["import * as firebase from 'firebase/app';\nimport 'firebase/database';\n\nexport default class Api {\n  constructor() {\n    this.basePath = '/data/movies';\n    this.database = firebase.database().ref(this.basePath).once('value').then((d) => d.val());\n  }\n\n  getMovies() {\n    return this.database;\n  }\n\n  async getMovie(id) {\n    const movies = await this.database;\n    return movies.filter(({ id: dataId }) => id === dataId).slice(-1).pop();\n  }\n\n  // makeHeaders(auth = false) {\n  //   const headers = {\n  //     'Content-Type': 'application/x-www-form-urlencoded',\n  //   };\n  //   if (auth) headers.Authorization = `Key ${localStorage.getItem('key')}`;\n  //   return headers;\n  // }\n\n  // signup(name) {\n  //   return fetch(`${this.BASE_URL}/signup`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(),\n  //     body: `name=${name}`,\n  //   })\n  //     .then((res) => res.json())\n  //     .then(({ key }) => localStorage.setItem('key', key));\n  // }\n\n  // login() {\n  //   return fetch(`${this.BASE_URL}/login`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //   }).then((res) => res.json());\n  // }\n\n  // joinRoom(id) {\n  //   return fetch(`${this.BASE_URL}/rooms/${id}`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //   }).then((res) => res.json());\n  // }\n\n  // getRooms() {\n  //   return fetch(`${this.BASE_URL}/rooms`).then((res) => res.json());\n  // }\n\n  // createRoom(name) {\n  //   return fetch(`${this.BASE_URL}/rooms`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //     body: `name=${name}`,\n  //   }).then((res) => res.json());\n  // }\n\n  // getRoom(roomId) {\n  //   return fetch(`${this.BASE_URL}/rooms/${roomId}`).then((res) => res.json());\n  // }\n\n  // getChats(roomId) {\n  //   return fetch(`${this.BASE_URL}/rooms/${roomId}/chats`).then((res) => res.json());\n  // }\n\n  // sendMessage(roomId, message) {\n  //   return fetch(`${this.BASE_URL}/rooms/${roomId}/chats`, {\n  //     method: 'POST',\n  //     headers: this.makeHeaders(true),\n  //     body: `message=${message}`,\n  //   }).then((res) => res.json());\n  // }\n}\n"]},"metadata":{},"sourceType":"module"}